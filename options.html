<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>字幕助手 設定</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <h1>字幕助手 設定</h1>
  <div id="settings-container">
    <div class="card">
      <h2>Debug Mode</h2>
      <div class="form-group debug-mode-group">
        <label class="switch">
          <input type="checkbox" id="debugModeCheckbox">
          <span class="slider round"></span>
        </label>
        <label for="debugModeCheckbox" class="switch-label">啟用 Debug Mode</label>
      </div>
    </div>

    <div class="card">
      <h2>API Base URL</h2>
      <div class="form-group">
        <label for="apiBaseUrlInput">API Base URL:</label>
        <input type="text" id="apiBaseUrlInput">
        <span class="warning">除非您清楚知道自己在改什麼，否則這項設定不應該被更動</span>
      </div>
    </div>

    <div class="card">
      <h2>資料備份與恢復</h2>
      <div class="form-group">
        <button id="backupDataButton">備份資料</button>
        <span>將 userID 和設定匯出為檔案</span>
      </div>
      <div class="form-group">
        <label for="restoreDataInput">恢復資料:</label>
        <input type="file" id="restoreDataInput" accept=".json">
        <button id="restoreDataButton">恢復</button>
        <span>從備份檔案匯入 userID 和設定</span>
      </div>
    </div>

    <div class="card subtitle-customization-card">
      <h2>字幕自定義設定</h2>
      
      <!-- 模式切換 -->
      <div class="form-group subtitle-mode-group">
        <h3>字幕模式</h3>
        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="subtitleMode" value="single" id="singleMode">
            <span class="radio-label">單語模式</span>
          </label>
          <label class="radio-option">
            <input type="radio" name="subtitleMode" value="dual" id="dualMode">
            <span class="radio-label">雙語模式</span>
          </label>
        </div>
      </div>
      
      <!-- 語言設定（雙語模式時顯示） -->
      <div class="form-group dual-language-group" id="dualLanguageGroup" style="display: none;">
        <h3>語言設定</h3>
        <div class="language-selects">
          <div class="select-group">
            <label for="primaryLanguageSelect">主要語言:</label>
            <select id="primaryLanguageSelect">
              <option value="zh-Hant">繁體中文</option>
              <option value="zh-Hans">简体中文</option>
              <option value="en">English</option>
              <option value="ja">日本語</option>
              <option value="ko">한국어</option>
            </select>
          </div>
          <div class="select-group">
            <label for="secondaryLanguageSelect">次要語言:</label>
            <select id="secondaryLanguageSelect">
              <option value="en">English</option>
              <option value="zh-Hant">繁體中文</option>
              <option value="zh-Hans">简体中文</option>
              <option value="ja">日本語</option>
              <option value="ko">한국어</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- 主要語言樣式 -->
      <div class="form-group primary-style-section">
        <h3>主要語言樣式</h3>
        <div class="style-controls">
          <div class="control-group">
            <label for="primaryFontSize">字體大小: <span id="primaryFontSizeValue">55</span>px</label>
            <input type="range" id="primaryFontSize" min="12" max="100" value="55" step="1">
          </div>
          <div class="control-group">
            <label for="primaryTextColor">文字顏色:</label>
            <input type="color" id="primaryTextColor" value="#ffffff">
          </div>
          <div class="control-group">
            <label for="primaryBackgroundColor">背景顏色:</label>
            <input type="color" id="primaryBackgroundColor" value="#000000">
          </div>
          <div class="control-group">
            <label for="primaryBackgroundOpacity">背景透明度: <span id="primaryBackgroundOpacityValue">0.8</span></label>
            <input type="range" id="primaryBackgroundOpacity" min="0" max="1" value="0.75" step="0.05">
          </div>
        </div>
      </div>
      
      <!-- 次要語言樣式（雙語模式時顯示） -->
      <div class="form-group secondary-style-section" id="secondaryStyleSection" style="display: none;">
        <h3>次要語言樣式</h3>
        <div class="style-controls">
          <div class="control-group">
            <label for="secondaryFontSize">字體大小: <span id="secondaryFontSizeValue">24</span>px</label>
            <input type="range" id="secondaryFontSize" min="12" max="100" value="24" step="1">
          </div>
          <div class="control-group">
            <label for="secondaryTextColor">文字顏色:</label>
            <input type="color" id="secondaryTextColor" value="#ffff00">
          </div>
          <div class="control-group">
            <label for="secondaryBackgroundColor">背景顏色:</label>
            <input type="color" id="secondaryBackgroundColor" value="#000000">
          </div>
          <div class="control-group">
            <label for="secondaryBackgroundOpacity">背景透明度: <span id="secondaryBackgroundOpacityValue">0.8</span></label>
            <input type="range" id="secondaryBackgroundOpacity" min="0" max="1" value="0.75" step="0.05">
          </div>
        </div>
      </div>
      
      <!-- 即時預覽 -->
      <div class="form-group preview-group">
        <h3>即時預覽</h3>
        <div class="preview-container">
          <div class="preview-subtitle primary-preview" id="primaryPreview">主要語言預覽文字</div>
          <div class="preview-subtitle secondary-preview" id="secondaryPreview" style="display: none;">次要語言預覽文字</div>
        </div>
        <div class="preview-controls">
          <button id="resetStyles" class="btn btn-outline">重置樣式</button>
          <button id="applyStyles" class="btn btn-primary">套用設定</button>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>待同步數據</h2>
      <div id="pending-data-container">
        <p>投票隊列: <span id="voteQueueCount">0</span> 個待同步項目 <button id="clearVoteQueueButton">清空</button></p>
        <p>翻譯隊列: <span id="translationQueueCount">0</span> 個待同步項目 <button id="clearTranslationQueueButton">清空</button></p>
        <p>替換事件隊列: <span id="replacementEventsQueueCount">0</span> 個待同步項目 <button id="clearReplacementEventsQueueButton">清空</button></p>
      </div>
    </div>
  </div>
  <script src="options.js"></script>
</body>
</html>
